<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<title>Test Buttons Block</title>
</head>
<body>
	<div id="test"></div>
	<p id="text"></p>
	<div id="test2"></div>
	<p id="text2"></p>
	<script src="bblcks.js"></script>
	<script>
		(function (window) {

			var Bblck = window.Bblck,
				doc = window.document,
				block = new Bblck(),
				block2 = new Bblck(),
				text = document.getElementById('text'),
				text2 = document.getElementById('text2');

			/* Config a panel with buttons*/
			var panel5 = new block.Panel(null, {}, [
				new block.Button('Maskada', {}),
				new block.Button('Illuminatti', {})
			]);

			/* Config a panel with buttons*/
			var panel4 = new block.Panel(null, {}, [
				new block.Button('5 dias', {
					onAction: function () {
						text.innerHTML += '5 dias';
					}
				}),
				new block.Button('10 dias', {
					onAction: function () {
						text.innerHTML += '10 dias';
					}
				}),
				new block.Button('15 dias', {
					onAction: function () {
						text.innerHTML += '15 dias';
					}
				}),
				new block.Button('30 dias', {
					onAction: function (event, obj) {
						text.innerHTML += '30 dias';
						obj.createException('Campo não validado!');
					},
					onException: function (error, obj) {
						window.alert(error.message);
						obj.getNextPanel().create(obj.getTarget(), obj.getHistory());
					}
				}, panel5)
			]);

			/* Config a panel with buttons*/
			var panel3 = new block.Panel(null, {}, [
				new block.Button('Action 2.1', {}),
				new block.Button('Action 2.2', {})
			]);

			/* Config a panel with buttons*/
			var panel2 = new block.Panel(null, {}, [
				new block.Button('Action 1.1', {}),
				new block.Button('Action 1.2', {}),
				new block.Button('Action 1.3', {})
			]);

			/* Config a panel with buttons*/
			var panel1 = new block.Panel('Teste de painéis', {}, [
				new block.Button('Action 1', {}, panel2),
				new block.Button('Action 2', {}, panel3),
				new block.Button('Agendar contato', {
					onAction: function () {
						text.innerHTML += 'Estou agendando contato para ';
					}
				}, panel4)
			]);

			/* Config the buttons block */
			block.setPanelRoot(panel1);
			block.setTarget('#test');
			block.render();


			/* JSON config*/
			var panels = {
				title: 'Teste de painéis',
				options: {},
				buttons: [
					{
						description: 'Action 1',
						options: {},
						panel: {
							title: null,
							options: {},
							buttons: [
								{
									description: 'Action 1.1',
									options: {},
									panel: null
								},
								{
									description: 'Action 1.2',
									options: {},
									panel: null
								},
								{
									description: 'Action 1.3',
									options: {},
									panel: null
								}
							]
						}
					},
					{
						description: 'Action 2',
						options: {},
						panel: {
							title: null,
							options: {},
							buttons: [
								{
									description: 'Action 2.1',
									options: {},
									panel: null
								},
								{
									description: 'Action 2.2',
									options: {},
									panel: null
								}
							]
						}
					},
					{
						description: 'Action 3',
						options: {
							onAction: function () {
								text2.innerHTML += 'Estou agendando contato para ';
							}
						},
						panel: {
							title: null,
							options: {
								returnButton: {
									enabled: true
								}
							},
							buttons: [
								{
									description: '5 dias',
									options: {
										onAction: function () {
											text2.innerHTML += '5 dias';
										}
									},
									panel: null
								},
								{
									description: '10 dias',
									options: {
										onAction: function () {
											text2.innerHTML += '10 dias';
										}
									},
									panel: null
								},
								{
									description: '15 dias',
									options: {
										onAction: function () {
											text2.innerHTML += '15 dias';
										}
									},
									panel: null
								},
								{
									description: '30 dias',
									options: {
										onAction: function (event, obj) {
											text2.innerHTML += '30 dias';
											obj.createException('Campo não validado!');
										},
										onException: function (error, obj) {
											window.alert(error.message);
											obj.getNextPanel().create(obj.getTarget(), obj.getHistory());
										}
									},
									panel: {
										title: null,
										options: {},
										buttons: [
											{
												description: 'Maskada',
												options: {},
												panel: null
											},
											{
												description: 'Illuminatti',
												options: {},
												panel: null
											}
										]
									}
								}
							]
						}
					}
				]
			};

			/* Config the buttons block */
			block2.setTarget('#test2');
			block2.renderFromJSON(panels);

		})(window);
	</script>
</body>
</html>