<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<title>Test Buttons Block</title>
</head>
<body>
	<div id="test"></div>
	<p id="text"></p>
	<script src="../build/bblcks.js"></script>
	<script>
		(function (window) {

			var Bblck = window.Bblck,
				doc = window.document,
				block = new Bblck(),
				text = document.getElementById('text');

			/* JSON config*/
			var panels = {
				title: 'Teste de painéis',
				options: {},
				buttons: [
					{
						description: 'Action 1',
						options: {},
						panel: {
							title: null,
							options: {},
							buttons: [
								{
									description: 'Action 1.1',
									options: {},
									panel: null
								},
								{
									description: 'Action 1.2',
									options: {},
									panel: null
								},
								{
									description: 'Action 1.3',
									options: {},
									panel: null
								}
							]
						}
					},
					{
						description: 'Action 2',
						options: {},
						panel: {
							title: null,
							options: {},
							buttons: [
								{
									description: 'Action 2.1',
									options: {},
									panel: null
								},
								{
									description: 'Action 2.2',
									options: {},
									panel: null
								}
							]
						}
					},
					{
						description: 'Action 3',
						options: {
							onAction: function () {
								text.innerHTML += 'Estou agendando contato para ';
							}
						},
						panel: {
							title: null,
							options: {
								returnButton: {
									enabled: true
								}
							},
							buttons: [
								{
									description: '5 dias',
									options: {
										onAction: function () {
											text.innerHTML += '5 dias';
										}
									},
									panel: null
								},
								{
									description: '10 dias',
									options: {
										onAction: function () {
											text.innerHTML += '10 dias';
										}
									},
									panel: null
								},
								{
									description: '15 dias',
									options: {
										onAction: function () {
											text.innerHTML += '15 dias';
										}
									},
									panel: null
								},
								{
									description: '30 dias',
									options: {
										onAction: function (event, obj) {
											text.innerHTML += '30 dias';
											obj.createException('Campo não validado!');
										},
										onException: function (error, obj) {
											window.alert(error.message);
											obj.getNextPanel().create(obj.getTarget(), obj.getHistory());
										}
									},
									panel: {
										title: null,
										options: {},
										buttons: [
											{
												description: 'Maskada',
												options: {},
												panel: null
											},
											{
												description: 'Illuminatti',
												options: {},
												panel: null
											}
										]
									}
								}
							]
						}
					}
				]
			};

			/* Config the buttons block */
			block.setTarget('#test');
			block.renderFromJSON(panels);

		})(window);
	</script>
</body>
</html>